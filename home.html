<html>
	<head>
		<title>Snakes and Ladder Game</title>
		<meta id="viewport" name="viewport" content="" />
		<!-- <meta id="viewPortElement" name="viewport" content="initial-scale=1+1/device-pixel-ratio, width=device-width, height=device-height, target-densitydpi=device-dpi" /> -->
		<script src="js/jquery-1.11.2.min.js"></script>
		<script src="js/easeljs-0.8.0.min.js"></script>
		<script src="js/tweenjs-0.6.0.min.js"></script>
		<script type="text/javascript" src="js/CSSPlugin.js"></script>
		<!--<link href='http://fonts.googleapis.com/css?family=Raleway|Audiowide' rel='stylesheet' type='text/css'> -->
		<link rel="stylesheet" type="text/css" href="style.css" />
		<script src="js/anijs-min.js"></script>
		<link rel="stylesheet" type="text/css" href="animate.css" />
		<script type="text/javascript" src="phonegap.js"></script>
		<script>
			var viewportScale = 1 / window.devicePixelRatio;
			$("#viewport").attr("content","user-scalable=no, initial-scale="+viewportScale+", minimum-scale=0.2, maximum-scale=2, width=device-width");
		</script>
	</head>
	
	<body onload="scriptFunction()">
	
	<audio id="PageLoadAudio" src="/android_asset/www/sound/bgMusic.mp3"></audio>
	<audio id="ClickAudio" src="/android_asset/www/sound/clickNormal.mp3"></audio>
	
	<div id="wrapperIndex">
		
	<!-- <div id="topBar" class="bar">
		Welcome to 21st Century Snake & Ladder
		</div> -->
		<div id="parentContainer" >
			<div id="playerSelector">
				<span id="selectorHeader"> Select Number of Players </span><br />
				<input type="button" name="OnePlayer" id="OnePlayer" class="circleButton" alt="Number1" value="1"  data-anijs="if: mouseover, do: jello animated">
				<input type="button" name="TwoPlayers" id="TwoPlayers" class="circleButton" alt="Number2" value="2"  data-anijs="if:mouseover, do: jello animated">
				<input type="button" name="ThreePlayers" id="ThreePlayers" class="circleButton" alt="Number3" value="3"  data-anijs="if: mouseover, do: jello animated">
				<input type="button" name="FourPlayers" id="FourPlayers" class="circleButton" alt="Number4" value="4"  data-anijs="if: mouseover, do: jello animated">
				<div id="selectorFooter"> 
				<img src="images/dice_1.gif">
				<img src="images/dice_2.gif">
				<img src="images/dice_3.gif">
				<img src="images/dice_4.gif"></div>
			</div>
		</div>
	</div>
	<script type="text/javascript">
	// admob script begin
	var admobid = {};

	if( /(android)/i.test(navigator.userAgent) ) { 
		admobid = { // for Android
			banner: 'ca-app-pub-6973712345433846/5193390011',
			interstitial: 'ca-app-pub-6973712345433846/9623589610'
		};
	}
	function initApp() {
		if (AdMob) {
			AdMob.createBanner({
				adId : admobid.banner,
				position : AdMob.AD_POSITION.BOTTOM_CENTER,
				autoShow : true
			});
			AdMob.prepareInterstitial( {adId:admobid.interstitial, autoShow:false} );
		}
	}
	document.addEventListener('deviceready', initApp, false);
	// admob end
	
	var my_media;
		$(function () {
            $("#OnePlayer").bind("click", function () {
				my_media.pause();
				playAudio('ClickAudio');
				if(AdMob) AdMob.showInterstitial();
				afterClickEvent("#OnePlayer");      
            });
            $("#TwoPlayers").bind("click", function () {
				my_media.pause();
				playAudio('ClickAudio');
				if(AdMob) AdMob.showInterstitial();
				afterClickEvent("#TwoPlayers");                
            });
            $("#ThreePlayers").bind("click", function () {
				my_media.pause();
				playAudio('ClickAudio');
				if(AdMob) AdMob.showInterstitial();
				afterClickEvent("#ThreePlayers");
            });
            $("#FourPlayers").bind("click", function () {
				my_media.pause();
				playAudio('ClickAudio');
				if(AdMob) AdMob.showInterstitial();
				afterClickEvent("#FourPlayers");
            });	
			
			function afterClickEvent(playerNumId){
				setTimeout(function(){
						var url = "game.html?playerNum=" + encodeURIComponent($(playerNumId).val());
						window.location.href = url;
						},
					500);
			}
			
        });

		function scriptFunction() {
			AniJS.run();
			playAudio('PageLoadAudio');
		}
		var playAudio = function(audioID) {
		var audioElement = document.getElementById(audioID);
		var url = audioElement.getAttribute('src');
		my_media = new Media(url,
				// success callback
				 function () { 
				 //console.log("playAudio():Audio Success"); 
				 },
				// error callback
				 function (err) { 
				 //console.log("playAudio():Audio Error: " + err); 
				 }
		);
			   // Play audio
		my_media.play();
		}
		
</script>
	
	</body>
</html>